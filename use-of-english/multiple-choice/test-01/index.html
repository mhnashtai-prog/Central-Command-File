<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>INTUITY ‚Äì Multiple Choice Test 01</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, 
        #2c5aa0 0%, 
        #3b6bb5 15%, 
        #4a7bc8 30%, 
        #7a9fd9 45%, 
        #b8d3ea 60%, 
        #e8c5d8 75%, 
        #f0b7c9 85%, 
        #f5a9ba 100%
      );
      background-attachment: fixed;
      font-family: 'Montserrat', Arial, sans-serif;
      min-height: 100vh;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, #2c5aa0, #4a7bc8);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .header .subtitle {
      font-size: 1.1rem;
      opacity: 0.9;
      font-weight: 500;
    }

    .progress-bar {
      background: rgba(255,255,255,0.2);
      height: 6px;
      border-radius: 3px;
      margin-top: 20px;
      overflow: hidden;
    }

    .progress-fill {
      background: #63e3c0;
      height: 100%;
      width: 0%;
      border-radius: 3px;
      transition: width 0.3s ease;
    }

    /* Question Container */
    .question-container {
      padding: 40px;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
    }

    .question-number {
      background: #2c5aa0;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .score-display {
      font-weight: 600;
      color: #2c5aa0;
      font-size: 1rem;
    }

    .question-text {
      font-size: 1.3rem;
      line-height: 1.6;
      margin-bottom: 30px;
      color: #2c3e50;
      font-weight: 500;
    }

    .context {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      font-style: italic;
      color: #555;
      border-left: 4px solid #2c5aa0;
    }

    .blank {
      background: #fff3cd;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 600;
      color: #856404;
    }

    /* Options */
    .options-container {
      display: grid;
      gap: 15px;
      margin-bottom: 30px;
    }

    .option {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      font-size: 1.1rem;
      position: relative;
    }

    .option:hover {
      border-color: #2c5aa0;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(44, 90, 160, 0.1);
    }

    .option-letter {
      background: #f8f9fa;
      color: #495057;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: 15px;
      flex-shrink: 0;
    }

    .option.selected {
      border-color: #2c5aa0;
      background: rgba(44, 90, 160, 0.05);
    }

    .option.selected .option-letter {
      background: #2c5aa0;
      color: white;
    }

    .option.correct {
      border-color: #28a745;
      background: rgba(40, 167, 69, 0.1);
    }

    .option.correct .option-letter {
      background: #28a745;
      color: white;
    }

    .option.incorrect {
      border-color: #dc3545;
      background: rgba(220, 53, 69, 0.1);
    }

    .option.incorrect .option-letter {
      background: #dc3545;
      color: white;
    }

    .option.disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    /* Feedback */
    .feedback {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      border-left: 4px solid #2c5aa0;
      display: none;
    }

    .feedback.show {
      display: block;
      animation: slideDown 0.3s ease;
    }

    .feedback.correct {
      background: rgba(40, 167, 69, 0.1);
      border-color: #28a745;
      color: #155724;
    }

    .feedback.incorrect {
      background: rgba(220, 53, 69, 0.1);
      border-color: #dc3545;
      color: #721c24;
    }

    .feedback-title {
      font-weight: 600;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    /* Navigation */
    .navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 30px 40px;
      background: #f8f9fa;
      border-top: 1px solid #e9ecef;
    }

    .nav-button {
      background: #2c5aa0;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-button:hover {
      background: #1e3d72;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(44, 90, 160, 0.3);
    }

    .nav-button:disabled {
      background: #6c757d;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .back-button {
      background: #6c757d;
      color: white;
    }

    .back-button:hover {
      background: #545b62;
    }

    /* Results Screen */
    .results {
      display: none;
      text-align: center;
      padding: 60px 40px;
    }

    .results.show {
      display: block;
    }

    .results h2 {
      font-size: 2.5rem;
      color: #2c5aa0;
      margin-bottom: 20px;
    }

    .final-score {
      font-size: 3rem;
      font-weight: 700;
      color: #28a745;
      margin: 20px 0;
    }

    .results-details {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 30px;
      margin: 30px 0;
      text-align: left;
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #e9ecef;
    }

    .result-row:last-child {
      border-bottom: none;
    }

    /* Animations */
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .correct-answer {
      animation: pulse 0.6s ease;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        margin: 10px;
        border-radius: 15px;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .question-container {
        padding: 20px;
      }
      
      .question-text {
        font-size: 1.1rem;
      }
      
      .option {
        padding: 15px;
        font-size: 1rem;
      }
      
      .navigation {
        padding: 20px;
        flex-direction: column;
        gap: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>INTUITY</h1>
      <div class="subtitle">Multiple Choice Test 01</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <!-- Main Content -->
    <div id="questionScreen">
      <div class="question-container">
        <div class="question-header">
          <div class="question-number" id="questionNumber">Question 1 of 12</div>
          <div class="score-display" id="scoreDisplay">Score: 0/0</div>
        </div>

        <div id="context" class="context"></div>
        <div class="question-text" id="questionText"></div>

        <div class="options-container" id="optionsContainer"></div>

        <div id="feedback" class="feedback">
          <div class="feedback-title" id="feedbackTitle"></div>
          <div id="feedbackText"></div>
        </div>
      </div>

      <div class="navigation">
        <button class="nav-button back-button" onclick="goBack()">
          ‚Üê Back to Tests
        </button>
        <button class="nav-button" id="nextButton" onclick="nextQuestion()" disabled>
          Next Question ‚Üí
        </button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="resultsScreen" class="results">
      <h2>Test Completed!</h2>
      <div class="final-score" id="finalScore">0/12</div>
      <div class="results-details">
        <div class="result-row">
          <span>Correct Answers:</span>
          <span id="correctCount">0</span>
        </div>
        <div class="result-row">
          <span>Incorrect Answers:</span>
          <span id="incorrectCount">0</span>
        </div>
        <div class="result-row">
          <span>Percentage:</span>
          <span id="percentage">0%</span>
        </div>
        <div class="result-row">
          <span>Grade:</span>
          <span id="grade">F</span>
        </div>
      </div>
      <button class="nav-button" onclick="restartTest()" style="margin-right: 15px;">
        üîÑ Restart Test
      </button>
      <button class="nav-button back-button" onclick="goBack()">
        ‚Üê Back to Tests
      </button>
    </div>
  </div>

  <script>
    // Test Data - High-quality C1 level questions
    const testQuestions = [
      {
        context: "Company restructuring announcement",
        question: "The CEO announced that the entire marketing department _______ by external consultants next quarter.",
        options: [
          "will be reviewed",
          "would be reviewed", 
          "is being reviewed",
          "has been reviewed"
        ],
        correct: 1,
        explanation: "In reported speech, 'will' becomes 'would' when reporting future plans. This combines reported speech with passive voice."
      },
      {
        context: "University research project",
        question: "_______ the professor's initial skepticism, the student's hypothesis proved to be groundbreaking.",
        options: [
          "Despite of",
          "In spite",
          "Regardless", 
          "Despite"
        ],
        correct: 3,
        explanation: "'Despite' + noun phrase expresses contrast. 'Despite of' is incorrect; 'In spite' needs 'of'; 'Regardless' needs 'of' + noun."
      },
      {
        context: "Environmental policy discussion",
        question: "If the government _______ carbon taxes five years ago, we might not be facing this crisis today.",
        options: [
          "would have introduced",
          "had introduced",
          "would introduce",
          "introduced"
        ],
        correct: 1,
        explanation: "Mixed conditional: past perfect in if-clause for unreal past condition affecting present. 'Had introduced' creates the correct timeline."
      },
      {
        context: "Medical breakthrough news",
        question: "Scientists claim _______ a significant breakthrough in cancer treatment research.",
        options: [
          "to have made",
          "to make",
          "that they made",
          "making"
        ],
        correct: 0,
        explanation: "'Claim to have done' reports a completed action using perfect infinitive. This structure emphasizes the achievement has been completed."
      },
      {
        context: "International business meeting",
        question: "The proposal _______ by the board before the shareholders' meeting next week.",
        options: [
          "must approve",
          "must be approved",
          "must have approved", 
          "must be approving"
        ],
        correct: 1,
        explanation: "'Must be approved' expresses necessity in passive form. The proposal receives the action rather than performing it."
      },
      {
        context: "Academic conference presentation",
        question: "_______ her presentation skills, Dr. Martinez would have secured the research funding.",
        options: [
          "If she improved",
          "Had she improved", 
          "Should she improve",
          "Were she to improve"
        ],
        correct: 1,
        explanation: "Inverted third conditional: 'Had she improved' = 'If she had improved'. This formal structure emphasizes the unreal past condition."
      },
      {
        context: "Technology startup discussion",
        question: "The investors insisted that all financial records _______ available for inspection.",
        options: [
          "should be made",
          "would be made",
          "be made",
          "will be made"
        ],
        correct: 2,
        explanation: "After 'insist that', we use subjunctive form 'be made' (base form). This formal structure follows verbs of demand/requirement."
      },
      {
        context: "Cultural exchange program",
        question: "Students reported _______ significant improvements in their language skills after the immersion program.",
        options: [
          "to experience",
          "experiencing",
          "that they experienced",
          "to have experienced"
        ],
        correct: 1,
        explanation: "'Report doing' uses gerund for personal experience. This structure emphasizes the students' direct involvement in the experience."
      },
      {
        context: "Urban planning committee",
        question: "_______ the traffic congestion problem, the city council approved the new subway extension.",
        options: [
          "To address",
          "Addressing",
          "Having addressed",
          "Being addressed"
        ],
        correct: 0,
        explanation: "'To address' expresses purpose/intention. The infinitive shows the council's aim in approving the subway extension."
      },
      {
        context: "Manufacturing industry report",
        question: "The factory workers demanded that safety protocols _______ immediately.",
        options: [
          "would be updated",
          "should update", 
          "be updated",
          "will be updated"
        ],
        correct: 2,
        explanation: "After 'demand that', use subjunctive 'be updated'. This structure follows verbs expressing urgent requirements."
      },
      {
        context: "Climate change symposium",
        question: "_______ the scientific community's warnings been heeded earlier, current environmental damage could have been prevented.",
        options: [
          "Should",
          "Would",
          "Had",
          "Were"
        ],
        correct: 2,
        explanation: "Inverted third conditional: 'Had the warnings been heeded' = 'If the warnings had been heeded'. This emphasizes the missed opportunity."
      },
      {
        context: "Educational policy reform",
        question: "The minister confirmed that new teaching standards _______ in all schools by September.",
        options: [
          "will have implemented",
          "would be implemented",
          "will have been implemented", 
          "would have been implemented"
        ],
        correct: 1,
        explanation: "Reported speech: 'will be' becomes 'would be'. The passive voice shows standards will be implemented (not self-implementing)."
      }
    ];

    // Game State
    let currentQuestion = 0;
    let score = 0;
    let selectedAnswer = null;
    let answered = false;

    // DOM Elements
    const questionNumber = document.getElementById('questionNumber');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const contextDiv = document.getElementById('context');
    const questionText = document.getElementById('questionText');
    const optionsContainer = document.getElementById('optionsContainer');
    const feedback = document.getElementById('feedback');
    const feedbackTitle = document.getElementById('feedbackTitle');
    const feedbackText = document.getElementById('feedbackText');
    const nextButton = document.getElementById('nextButton');
    const progressFill = document.getElementById('progressFill');
    const questionScreen = document.getElementById('questionScreen');
    const resultsScreen = document.getElementById('resultsScreen');

    // Initialize
    function initTest() {
      loadQuestion();
      updateProgress();
    }

    function loadQuestion() {
      const q = testQuestions[currentQuestion];
      
      // Update question info
      questionNumber.textContent = `Question ${currentQuestion + 1} of ${testQuestions.length}`;
      scoreDisplay.textContent = `Score: ${score}/${currentQuestion}`;
      
      // Show context if exists
      if (q.context) {
        contextDiv.style.display = 'block';
        contextDiv.innerHTML = `<strong>Context:</strong> ${q.context}`;
      } else {
        contextDiv.style.display = 'none';
      }
      
      // Load question
      questionText.innerHTML = q.question;
      
      // Load options
      optionsContainer.innerHTML = '';
      q.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        optionDiv.innerHTML = `
          <div class="option-letter">${String.fromCharCode(65 + index)}</div>
          <div>${option}</div>
        `;
        optionDiv.onclick = () => selectAnswer(index, optionDiv);
        optionsContainer.appendChild(optionDiv);
      });
      
      // Reset state
      selectedAnswer = null;
      answered = false;
      feedback.classList.remove('show', 'correct', 'incorrect');
      nextButton.disabled = true;
      
      // Update next button text
      if (currentQuestion === testQuestions.length - 1) {
        nextButton.innerHTML = 'View Results ‚Üí';
      } else {
        nextButton.innerHTML = 'Next Question ‚Üí';
      }
    }

    function selectAnswer(index, optionElement) {
      if (answered) return;
      
      // Clear previous selections
      document.querySelectorAll('.option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      // Select current option
      optionElement.classList.add('selected');
      selectedAnswer = index;
      
      // Show feedback immediately
      showFeedback();
    }

    function showFeedback() {
      if (selectedAnswer === null) return;
      
      answered = true;
      const q = testQuestions[currentQuestion];
      const isCorrect = selectedAnswer === q.correct;
      
      // Update score
      if (isCorrect) {
        score++;
      }
      
      // Style options
      document.querySelectorAll('.option').forEach((opt, index) => {
        opt.classList.add('disabled');
        if (index === q.correct) {
          opt.classList.add('correct');
          if (isCorrect) opt.classList.add('correct-answer');
        } else if (index === selectedAnswer && !isCorrect) {
          opt.classList.add('incorrect');
        }
      });
      
      // Show feedback
      feedback.classList.add('show');
      if (isCorrect) {
        feedback.classList.add('correct');
        feedbackTitle.textContent = '‚úì Correct!';
      } else {
        feedback.classList.add('incorrect');
        feedbackTitle.textContent = '‚úó Incorrect';
      }
      feedbackText.textContent = q.explanation;
      
      // Enable next button
      nextButton.disabled = false;
      
      // Update progress
      updateProgress();
    }

    function nextQuestion() {
      if (currentQuestion < testQuestions.length - 1) {
        currentQuestion++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function updateProgress() {
      const progress = ((currentQuestion + (answered ? 1 : 0)) / testQuestions.length) * 100;
      progressFill.style.width = progress + '%';
    }

    function showResults() {
      questionScreen.style.display = 'none';
      resultsScreen.classList.add('show');
      
      const percentage = Math.round((score / testQuestions.length) * 100);
      let grade;
      
      if (percentage >= 90) grade = 'A+';
      else if (percentage >= 80) grade = 'A';
      else if (percentage >= 70) grade = 'B';
      else if (percentage >= 60) grade = 'C';
      else if (percentage >= 50) grade = 'D';
      else grade = 'F';
      
      document.getElementById('finalScore').textContent = `${score}/${testQuestions.length}`;
      document.getElementById('correctCount').textContent = score;
      document.getElementById('incorrectCount').textContent = testQuestions.length - score;
      document.getElementById('percentage').textContent = percentage + '%';
      document.getElementById('grade').textContent = grade;
    }

    function restartTest() {
      currentQuestion = 0;
      score = 0;
      selectedAnswer = null;
      answered = false;
      
      questionScreen.style.display = 'block';
      resultsScreen.classList.remove('show');
      
      loadQuestion();
      updateProgress();
    }

    function goBack() {
      // Navigate back to the multiple choice test selection
      window.location.href = '../index.html';
    }

    // Start the test
    document.addEventListener('DOMContentLoaded', initTest);

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (!answered) {
        if (e.key >= '1' && e.key <= '4') {
          const index = parseInt(e.key) - 1;
          const options = document.querySelectorAll('.option');
          if (options[index]) {
            selectAnswer(index, options[index]);
          }
        }
      } else if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        if (!nextButton.disabled) {
          nextQuestion();
        }
      }
    });
  </script>
</body>
</html>
